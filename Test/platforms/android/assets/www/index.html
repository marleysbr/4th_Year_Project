

<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, target-densitydpi=device-dpi" />

    <title>Church Locator</title>

    <link rel="stylesheet" href="css/index.css">
    <link rel="stylesheet" href="lib/jquery-mobile/css/jquery.mobile-1.4.0.min.css" />

    <!--
    <script type="text/javascript" src="lib/jquery-mobile/js/jquery-1.11.0.js"></script>
    <script type="text/javascript" src="lib/jquery-mobile-router/js/jquery.mobile.router.min.js"></script>
    <script type="text/javascript" src="lib/jquery-mobile/js/jquery.mobile-1.4.0.js"></script>
    -->

    <script type="text/javascript" src="js/index.js"></script>
    <script type="text/javascript" src="/socket.io/socket.io.js"></script>
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.3/jquery.mobile-1.4.3.min.css" />
    <script src="http://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.4.3/jquery.mobile-1.4.3.min.js"></script>
    <script type="text/javascript"
            src="http://maps.googleapis.com/maps/api/js?sensor=false">
    </script>
    <script>
        $(document).bind("mobileinit", function(){
            $.mobile.allowCrossDomainPages = true;
        });
    </script>
</head>

<body>

<script>
    $( document ).on( "pageinit", "#home", function() {
        $( document ).on( "swipeleft swiperight", "#home", function( e ) {
            if ( $.mobile.activePage.jqmData( "panel" ) !== "open" ) {
                if ( e.type === "swipeleft"  ) {
                    $( "#menu" ).panel( "open" );
                } else if ( e.type === "swiperight" ) {
                    $( "#menu" ).panel( "open" );
                }
            }
        });
    });
</script>

<div data-role="page" id="home">

    <div data-role="header" data-position="fixed">
        <h1>Church Locator</h1>
        <a href="#menu" class="ui-btn ui-btn-inline ui-icon-bars ui-btn-icon-left">Menu</a>
    </div>

    <div class="ui-content" role="main">

        <button onclick="getLocation();">Show Map</button>

    </div>

    <div data-role="panel" id="menu">
        <ul data-role="listview" data-inset="true" class="ui-alt-icon">
                <li><a href="#camera">Take a picture</a></li>
                <li><a href="#map">View Map</a></li></br>
                <li><a href="#listOfChurches">List of Churches</a></li>
                <li><a href="#">About</a></li>
        </ul>
    </div>

</div>

<div data-role="page" id="camera">

    <div data-role="header" data-position="fixed">
        <h1>Take a Picture</h1><a href="#home" class="ui-btn-left" data-transition="slide" data-direction="reverse"> < </a>
    </div>

    <div class="ui-content" role="main">

        <p><b>Status:</b> <span id="camera_status"></span></p>
        <p> <b>Image:</b>     <img style="width:200px; visibility:hidden; display:none;" id="camera_image" src="" /> </p>

        <button onclick="takePicture();">New picture</button>
        <button onclick="useExistingPhoto();">Select from Gallery</button>
        <button onclick="uploadPicture();">Upload picture</button>

    </div>

    <button onclick="viewUploadedPictures();">View uploaded pictures</button>
    <img style="width:200px; visibility:hidden; display:none;" id="server_images" src="" />


</div>

<div data-role="page" id="listOfChurches">
    <div data-role="header" data-position="fixed">
        <h1>List of Churches</h1><a href="#home" class="ui-btn-left" data-transition="slide" data-direction="reverse"> < </a>
    </div>

    <div class="ui-content" role="main">

       <button onclick="getChurches();">Show All Churches</button>
        <br/>

        <div id="resultSet">
            <form class="ui-filterable">
                <input id="filter" data-type="search" placeholder="Search for Churches">
            </form>
            <ul id="result_list" data-filter="true" data-input="#filter" data-role="listview">
            </ul>
        </div>



    </div>

</div>

<div data-role="page" id="churchDetails">
    <div data-role="header" data-position="fixed">
        <h1>Church Details</h1><a href="#home" class="ui-btn-left" data-transition="slide" data-direction="reverse"> < </a>
    </div>

    <div class="ui-content" role="main">

        <a href="#listOfChurches" data-transition="slide" data-direction="reverse"> Return to List </a>
        <div id="details">
            <div>
                <div id="churchDetail">
                    <h3 id="churchName"></h3>
                    <p><strong>Address:</strong> <p id="churchAddress">
                    <p><strong>City:</strong> <p id="churchCity"></p></p>
                    <p><strong>County:</strong> <p id="churchCounty"></p></p>
                    <p><strong>Telephone:</strong> <p id="churchTelephone"></p></p>
                    <p><strong>Weekday Masses:</strong> <p id="churchWeekdayMass"></p></p>
                    <p><strong>Weekend Masses:</strong> <p id="churchWeekendMass"></p></p>
                    <div id="changeCoordinates"></div>
                </div>
            </div>
        </div>
    </div>
</div>

<div data-role="page" id="mapWithChurch">

    <div data-role="header" data-position="fixed">
        <h1>Map</h1><a href="#churchDetails" class="ui-btn-left" data-transition="slide" data-direction="reverse"> < </a>
    </div>

    <div class="ui-content" role="main" id="map_canvas1">



    </div>

</div>



<div data-role="page" id="map">

    <div data-role="header" data-position="fixed">
        <h1>Map</h1><a href="#home" class="ui-btn-left" data-transition="slide" data-direction="reverse"> < </a>
    </div>

    <div class="ui-content" role="main" id="map_canvas">

        <br /><br /><br />
        <button onclick="getLocation();">Show Map</button>

    </div>

</div>

<script type="text/javascript" src="../platform/js/libs/cordova.js"></script>
<script type="text/javascript" src="cordova.js"></script>
<script type="text/javascript" src="lib/fastclick/js/fastclick.js"></script>
<script type="text/javascript" src="lib/handlebars/js/handlebars-v1.3.0.js"></script>
<script type="text/javascript" src="js/MobileServices.Web-1.2.5.js"></script>

</body>
</html>
